(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{1202:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jvm/what-is-garbage-collector",function(){return a(4597)}])},4597:function(e,n,a){"use strict";a.r(n),a.d(n,{__toc:function(){return s},default:function(){return j}});var r=a(5893),l=a(2673),i=a(373),t=a(8426);a(9128);var o=a(2643),c={src:"/docs-java-basic/_next/static/media/1.9c4ad0b3.png",height:538,width:908,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAcElEQVR42i2GPQuCYBRG7//f+gGtQatDULSl1VTUokKQLrq4KNzXr/c+j6IeDocjMCOgqnXdzKpzoAEmJI0rWNwifZx050N5j8Iczx8e1f/mj9mYinu922BfROEp6S/f4VrEge7S9iMgPVf8tgNpnABt028UDmukjgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5},d={src:"/docs-java-basic/_next/static/media/1.92e355d4.png",height:568,width:771,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAIAAABxZ0isAAAAmElEQVR42iXJTQuCMADG8X3Tvkh9iS51KQIvnepQCEFB1LGDEPRKZlMS0q2a25ybumXsuT3/HzB2ygjOCSGMseZprUFGq0fMrjmEKZKFtPUPp9e95c46i+Vk5aAEWTDagGOUjvb99nbddc74/SxNWVd1w8C78OHc7W2mg/EuiA/+x/viTIgcUEpufhiFAYQBwlmCCymFUuoHQZeAo6Lu+vsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6};let s=[{depth:2,value:"가비지 컬렉터란?",id:"가비지-컬렉터란"},{depth:3,value:"참고자료",id:"참고자료"},{depth:3,value:"가비지(Garbage)란?",id:"가비지garbage란"},{depth:3,value:"가비지 컬렉터",id:"가비지-컬렉터"},{depth:3,value:"가비지 컬렉터의 종류",id:"가비지-컬렉터의-종류"},{depth:3,value:"가비지 컬렉터의 세대의 전환과정",id:"가비지-컬렉터의-세대의-전환과정"},{depth:3,value:"Garbage-First Garbage Collector (G1GC)",id:"garbage-first-garbage-collector-g1gc"},{depth:3,value:"Serial Collector",id:"serial-collector"},{depth:3,value:"Parallel Collector",id:"parallel-collector"},{depth:3,value:"Concurrent Collector",id:"concurrent-collector"},{depth:3,value:"Concurrent Mark Sweep(CMS) Collector",id:"concurrent-mark-sweepcms-collector"}];function _createMdxContent(e){let n=Object.assign({h2:"h2",h3:"h3",ul:"ul",li:"li",a:"a",p:"p",blockquote:"blockquote",img:"img",code:"code",strong:"strong"},(0,o.a)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"가비지-컬렉터란",children:"가비지 컬렉터란?"}),"\n",(0,r.jsx)(n.h3,{id:"참고자료",children:"참고자료"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html",children:"Oracle.com - Getting Started With the G1 Garbage Collector"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://starkying.tistory.com/entry/JVM-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%99%80-Garbage-Collection-%EA%B8%B0%EC%B4%88-%EC%9A%94%EC%95%BD?category=689625",children:"JVM 아키텍처"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://starkying.tistory.com/entry/what-is-java-string-pool",children:"Java Constant Pool"})}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"가비지garbage란",children:"가비지(Garbage)란?"}),"\n",(0,r.jsx)(n.p,{children:"Oracle 의 Java SE 8 GC 튜닝 가이드에서는 가비지를 아래와 같이 이야기하고 있습니다."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"An object is considered garbage when it can no longer be reached from any pointer in the running program."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"실행 중인 프로그램에서 더 이상 어떤 포인터로도 접근이 불가능한 객체를 가비지(Garbage)로 간주합니다."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"즉, 더 이상 참조되고 있지 않은 객체는 광활한 힙 안에서 참조하는 변수 없이 혼자 있습니다. 이런 객체를 가비지(Garbage)라고 부릅니다."}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"가비지-컬렉터",children:"가비지 컬렉터"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"힙 메모리에서 사용되지 않는 영역의 객체들을 탐색해서 제거하는 역할을 수행합니다."}),"\n",(0,r.jsx)(n.li,{children:"GC가 수행되는 동안에는 아무것도 못한다. 정확히 예측하기 쉽지 않습니다."}),"\n",(0,r.jsx)(n.li,{children:"GC가 수행되는 동안 GC를 수행하는 스레드를 제외한 모든 스레드가 정지됩니다."}),"\n",(0,r.jsx)(n.li,{children:"Full GC가 일어나서 몇초간 스레드가 정지하게 되면 장애로 이어지는 치명적인 문제가 발생할 수 있습니다. (Stop the world)"}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"가비지-컬렉터의-종류",children:"가비지 컬렉터의 종류"}),"\n",(0,r.jsx)(n.p,{children:"대표적인 가비지 컬렉터 들의 종류는 아래와 같습니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Serial Collector"}),"\n",(0,r.jsx)(n.li,{children:"Parallel Collector"}),"\n",(0,r.jsxs)(n.li,{children:["Concurrenct Collector","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Concurrent Mark Sweep (CMS) Collector"}),"\n",(0,r.jsx)(n.li,{children:"Garbage First Gabage Collector"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"가비지-컬렉터의-세대의-전환과정",children:"가비지 컬렉터의 세대의 전환과정"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["참고자료 : ",(0,r.jsx)(n.a,{href:"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html",children:"Oracle.com - Getting Started With the G1 Garbage Collector"})," / ‘The G1 Garbage Collector’"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"오래된 버전의 Garbage Collector 들은 Heap 을 3개의 영역으로 분류합니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Young Generation"}),"\n",(0,r.jsx)(n.li,{children:"Old Generation"}),"\n",(0,r.jsx)(n.li,{children:"Permanent Generation"}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"1",placeholder:"blur",src:c})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.p,{children:["하지만 G1 Collector가 도입되면서 조금은 다른 접근방법을 택했습니다. 아래와 같은 방식입니다. ",(0,r.jsx)("br",{})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"1",placeholder:"blur",src:d})}),"\n",(0,r.jsx)(n.p,{children:"위와 같은 하나의 영역을 Region 이라고 부릅니다. 그리고 이 Region을 여러 단위로 해서 힙을 나누어 가비지 컬렉팅을 수행합니다."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["더 자세한 내용은 ",(0,r.jsx)(n.a,{href:"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html",children:"Oracle.com - Getting Started With the G1 Garbage Collector"})," 을 참고"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"garbage-first-garbage-collector-g1gc",children:"Garbage-First Garbage Collector (G1GC)"}),"\n",(0,r.jsxs)(n.p,{children:["다른 가비지 컬렉터 들에 비해 비교적 제일 나중에(최근에) 개발된 가비지 컬렉터 입니다.\r\n",(0,r.jsx)(n.img,{alt:"1",placeholder:"blur",src:d})]}),"\n",(0,r.jsx)(n.p,{children:"다국적 서비스 기업들이 많이 태동하면서 가비지 컬렉터 역시 패러다임의 전환이 이뤄졌는데, G1GC에 이런 내용들이 반영되어 많은 부분이 변화했습니다. 흔히 G1GC 라고 불리는 가비지 컬렉터입니다. G1GC는 서버 스타일의 컬렉터입니다. G1GC 는 Generational GC가 아닙니다. (G1GC는 Generation 구분을 따로 하지 않는다.)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"큰 메모리를 가진 멀티 프로세서 머신에 적합한 가비지컬렉터"}),"\n",(0,r.jsx)(n.li,{children:"Young Generation 영역 : Snapshot-At-The-Beginning 알고리즘을 사용"}),"\n",(0,r.jsx)(n.li,{children:"Old Generation 영역 : Snapshot-At-The-Beginning 알고리즘을 사용"}),"\n",(0,r.jsxs)(n.li,{children:["JVM 옵션 : ",(0,r.jsx)(n.code,{children:"-XX:+UseG1GC"})," : G1 컬렉터를 활성화"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"serial-collector",children:"Serial Collector"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"싱글 스레드 기반의 가비지 컬렉터"}),"\n",(0,r.jsx)(n.li,{children:"싱글 스레드 기반이기에 싱글 프로세서 시스템에 적합"}),"\n",(0,r.jsx)(n.li,{children:"멀티코어를 사용할 수 없다는 점이 단점"}),"\n",(0,r.jsx)(n.li,{children:"Young Generation 영역 : Serial 알고리즘을 사용"}),"\n",(0,r.jsx)(n.li,{children:"Old Generation 영역 : Serial Mark-Sweep-Compact 알고리즘을 사용"}),"\n",(0,r.jsx)(n.li,{children:"JVM 옵션 : -XX+UseSerialGC"}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"parallel-collector",children:"Parallel Collector"}),"\n",(0,r.jsx)(n.p,{children:"Parallel Compaction 을 사용하면 Major GC 를 병렬로 수행합니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"마이너 GC를 병렬로 수행"}),"\n",(0,r.jsx)(n.li,{children:"메이저 GC는 Parallel Compaction 을 사용할 경우에만 병렬로 수행"}),"\n",(0,r.jsx)(n.li,{children:"멀티프로세서, 멀티 스레드 하드웨어에서 중대형 규모 애플리케이션에 적합한 GC"}),"\n",(0,r.jsx)(n.li,{children:"JVM 옵션"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-XX:+UseParallelGC"})," : Parallel Compaction 을 디폴트로 사용하는 옵션"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-XX:-UseParallelOldGC"})," : Parallel Compaction 을 사용하지 않도록 명시하는 옵션"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"concurrent-collector",children:"Concurrent Collector"}),"\n",(0,r.jsx)(n.p,{children:"전체 처리율 보다 응답 시간이 더 중요할 경우에 사용합니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"프로세서가 GC와 처리 역할을 나누어 일을 하기에 일시 정지가 짧아집니다."}),"\n",(0,r.jsx)(n.li,{children:"프로세서의 수를 늘릴수록 효과를 볼 수 있지만 한계가 있습니다."}),"\n",(0,r.jsxs)(n.li,{children:["Concurrent Collector 는 아래의 두가지가 있습니다.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Concurrent Mark Sweep(CMS) Collector"}),"\n",(0,r.jsx)(n.li,{children:"Garbage-First Garbage Collector (G1GC)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.h3,{id:"concurrent-mark-sweepcms-collector",children:"Concurrent Mark Sweep(CMS) Collector"}),"\n",(0,r.jsx)(n.p,{children:"가비지 컬렉션의 일시정지가 짧은 것이 선호되는 애플리케이션에 사용되면 좋은 컬렉터입니다."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"프로세서의 리소스를 가비지 컬렉션과 공유합니다.(프로세서가 가진 자원들을 가비지컬렉션과 공유)"}),"\n",(0,r.jsx)(n.li,{children:"Heap 메모리 영역의 크기가 클 때 적합한 Collector"}),"\n",(0,r.jsx)(n.li,{children:"GC의 일시 정지 시간을 줄이는 것이 목적입니다. 크기가 큰 오래된 객체가 있는 경우에 적합합니다."}),"\n",(0,r.jsxs)(n.li,{children:["JVM 옵션 :","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-XX:+UseConcMarkSweepGC"})," : CMS 컬렉터를 enable 하는 옵션"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Young Generation 영역: Parallel GC 알고리즘"}),"\n",(0,r.jsxs)(n.li,{children:["Old Generation 영역 : ",(0,r.jsx)(n.strong,{children:"Concurrent Mark Sweep GC 알고리즘"})," 사용","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Concurrent Mark Sweep GC 알고리즘에 대해서는 이 문서 하단에 별도로 설명을 정리해두었습니다."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("br",{})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.a)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/jvm/what-is-garbage-collector.mdx",route:"/jvm/what-is-garbage-collector",timestamp:1713139877e3,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"java-features",route:"/java-features",children:[{kind:"MdxPage",name:"java-10",route:"/java-features/java-10"},{kind:"MdxPage",name:"java-11",route:"/java-features/java-11"},{kind:"MdxPage",name:"java-16",route:"/java-features/java-16"},{kind:"MdxPage",name:"java-17",route:"/java-features/java-17"},{kind:"MdxPage",name:"java-21",route:"/java-features/java-21"},{kind:"MdxPage",name:"java-8",route:"/java-features/java-8"},{kind:"MdxPage",name:"java-9",route:"/java-features/java-9"},{kind:"Meta",data:{"java-8":"Java 8","java-9":"Java 9","java-10":"Java 10","java-11":"Java 11","java-16":"Java 16","java-17":"Java 17","java-21":"Java 21"}}]},{kind:"MdxPage",name:"java-features",route:"/java-features"},{kind:"Folder",name:"jvm",route:"/jvm",children:[{kind:"MdxPage",name:"compiler-interpreter-jit-compiler",route:"/jvm/compiler-interpreter-jit-compiler"},{kind:"MdxPage",name:"java-code-compile-execution-processes",route:"/jvm/java-code-compile-execution-processes"},{kind:"MdxPage",name:"jvm-modules",route:"/jvm/jvm-modules"},{kind:"MdxPage",name:"minor-gc-major-gc-object-lifecycle",route:"/jvm/minor-gc-major-gc-object-lifecycle"},{kind:"MdxPage",name:"what-is-garbage-collector",route:"/jvm/what-is-garbage-collector"},{kind:"Meta",data:{"java-code-compile-execution-processes":"Java 파일이 컴파일되어 실행되기까지","compiler-interpreter-jit-compiler":"정적 컴파일러, 인터프리터, JIT 컴파일러","jvm-modules":"JVM 의 각 모듈들","what-is-garbage-collector":"가비지 컬렉터란?","minor-gc-major-gc-object-lifecycle":"Minor GC, Major GC, 객체의 생존 흐름"}}]},{kind:"MdxPage",name:"jvm",route:"/jvm"},{kind:"Folder",name:"lombok-effective-how-to",route:"/lombok-effective-how-to",children:[{kind:"MdxPage",name:"builder-object-creation-builder-variation",route:"/lombok-effective-how-to/builder-object-creation-builder-variation"},{kind:"MdxPage",name:"builder-object-creation-static-factory-method",route:"/lombok-effective-how-to/builder-object-creation-static-factory-method"},{kind:"MdxPage",name:"builder-object-creation-validation-check",route:"/lombok-effective-how-to/builder-object-creation-validation-check"},{kind:"MdxPage",name:"stop-using-data-annotation",route:"/lombok-effective-how-to/stop-using-data-annotation"},{kind:"Meta",data:{"stop-using-data-annotation":"@Data 애노테이션은 가급적 사용을 피하자","builder-object-creation-validation-check":"객체 생성시 유효성 체크는 철저히","builder-object-creation-builder-variation":"객체 생성 빌더를 용도별로 구별하자","builder-object-creation-static-factory-method":"빌더를 통해 객체생성은 정적 팩토리 메서드로"}}]},{kind:"MdxPage",name:"lombok-effective-how-to",route:"/lombok-effective-how-to"},{kind:"Folder",name:"object",route:"/object",children:[{kind:"MdxPage",name:"3-cowork-responsibility-role",route:"/object/3-cowork-responsibility-role"},{kind:"MdxPage",name:"9-flexible-design",route:"/object/9-flexible-design"},{kind:"Meta",data:{"3-cowork-responsibility-role":"3. 협력, 책임, 역할","9-flexible-design":"9. 유연한 설계"}}]},{kind:"MdxPage",name:"object",route:"/object"},{kind:"MdxPage",name:"tdd",route:"/tdd"},{kind:"Meta",data:{index:"Introduction",jvm:"JVM","java-features":"Java Features",object:"Object","lombok-effective-how-to":"롬복, 효율적으로 쓰자",tdd:"TDD",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"What Is Garbage Collector",headings:s},pageNextRoute:"/jvm/what-is-garbage-collector",nextraLayout:i.ZP,themeConfig:t.Z};var j=(0,l.j)(h)},8426:function(e,n,a){"use strict";var r=a(5893);a(7294);let l={logo:(0,r.jsx)("span",{children:"Docs Java Basic"}),project:{link:"https://github.com/chagchagchag/docs-java-basic"},docsRepositoryBase:"https://github.com/chagchagchag/docs-java-basic",footer:{text:"Nextra Docs Template"}};n.Z=l},5789:function(){}},function(e){e.O(0,[774,796,888,179],function(){return e(e.s=1202)}),_N_E=e.O()}]);